# Cервис Movies Explorer для поиска фильмов

![Превью проекта Movies Explorer](./movies-explorer.png)

### Стек
---
- React
- JavaScript
- express
- mongoBD

### Функциональность
---
- Сервис позволяет искать фильмы по ключевому слову. При успешном поиске карточки с фильмами отрисовываются на главной странице. Если фильмов по ключевому слову нет, пользователь видит сообщение "Ничего не найдено".
- Реализована регистрация и авторизация пользователя.
- Зарегистрированному пользователю доступна возможность сохранять фильмы в свою подборку.
- Зарегистрированному пользователю доступна страница "Сохранённые фильмы", на которой отрисовываются карточки с сохранёнными фильмами, количество сохранённых фильмов и ключевые слова, по которым он искал фильмы.
- Пользователь может удалять сохранённый фильм из своего списка.

## Директория backend

* `/models` – папка со схемами и моделями пользователя и карточки
* `/routes` — папка с файлами роутера  
* `/errors` – папка с модулями ошибок
* `/controllers` – папка с контроллерами
* `/middlewares` – папка с мидлварами

## Директория frontend/src

* `/components` — папка с компонентами React  
* `/contexts` – папка с контекстом user
* `/images` – папка с изображениями
* `/utils` -  папка с утилитами
* `/vendor`- папка с модулями и с шрифтами

Для запуска проекта:
1. Клонировать репозиторий
2. Установить зависимости `npm install`
3. Запустить проект на стороне back-end `npm run dev`
4. Запустить проект на стороне front-end `npm run start` (нужно добавить директорию './frontend' в node_modules/react-scriptconfig/path.js )

## Запросы

### Регистрация

POST http://localhost:3000/signup

В теле запроса передать объект вида

    {
      "email": "example@example.com",
      "password": "password",
      "name": "Жак-Ив Кусь",
    }

:heavy_check_mark: При успехе в ответе приходит объект пользователя со статусом `201`.

:x: При попытке создать пользователя с уже существующей в базе почтой приходит ответ со статусом `409` и сообщением `Пользователь с таким email уже зарегистрирован`.

:x: При попытке создать пользователя с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.

### Авторизация

POST http://localhost:3000/signin

В теле запроса передать объект вида

    {
      "email": "example@example.com",
      "password": "password"
    }

:heavy_check_mark: При успехе приходит ответ со статусом `200` и сообщением `Успешная авторизация`.

:x: При неправильных почте и/или пароле приходит ответ со статусом `401` и сообщением `Неправильные email или пароль`.

### Сохранение фильма

POST http://localhost:3000/movies


:heavy_check_mark: При успехе в ответе приходит объект статьи со статусом `201`.

:x: При попытке схранить фильм с некорректными данными приходит ответ со статусом `400` и ошибкой валидации.

### Удаление сохранённого фильма из списка 

DELETE http://localhost:3000/movies/:movieId

:heavy_check_mark: При успехе в ответе приходит объект сохранённого фильма со статусом `200`.

:x: При попытке удалить чужой сохранённый фильм приходит ответ со статусом `403` и сообщением `Недостаточно прав для выполнения операции`.

:x: При повторной попытке удалить сохранённый фильм или попытке удалить сохранённый фильм с несуществующим в базе id приходит ответ со статусом `404` и сообщением `Ресурс не найден`.

:x: При попытке удалить сохранённый фильм с некорректным id приходит ответ со статусом `400` и ошибкой валидации.

### Получение всех фильмом

GET https://api.nomoreparties.co/beatfilm-movies/movies

:heavy_check_mark: При успехе в ответе приходит массив статей со статусом `200`.

### Получение свои сохранённый фильмы пользователя

GET http://localhost:3000/movies

:heavy_check_mark: При успехе в ответе приходит массив статей со статусом `200`.
